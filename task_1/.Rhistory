library("tidyverse")
path_futoukou <- "../data/raw/不登校生徒数/2022年度_不登校生徒数.xlsx"
library("readxl")
df <- read_excel(path_futoukou)
dir
source("~/R_prj/task_1/code/save_absence_original.R", echo = TRUE)
library("tidyverse")
library("readxl")
path_futoukou <- "../data/raw/不登校生徒数/2022年度_不登校生徒数.xlsx"
df <- read_excel(path_futoukou)
pwd
pwd()
getwd()
path_futoukou <- "data/raw/不登校生徒数/2022年度_不登校生徒数.xlsx"
df <- read_excel(path_futoukou)
df
df %>% search("愛知")
df %>% search(, "愛知")
df %>%
filter(str_detect(都道府県, "愛知"))
df %>%
filter(str_detect(都道府県, "千葉"))
df %>%
filter(str_detect(都道府県, "東京"))
df %>%
filter(str_detect(都道府県, "神奈川"))
df %>%
filter(str_detect(都道府県, "京都"))
df %>%
filter(str_detect(都道府県, "大阪"))
df %>%
filter(str_detect(都道府県, "広島"))
df %>%
filter(str_detect(都道府県, "沖縄"))
file_list <- list.files(
path = path_futoukou,
pattern = "\\.xlsx$",
full.names = TRUE)
file_list
path_futoukou <- "data/raw/不登校生徒数"
file_list <- list.files(
path = path_futoukou,
pattern = "\\.xlsx$",
full.names = TRUE)
file_list
absence_list <- file_list %>%
set_names(~ str_extract(., "\\d{4}")) %>%
map(read_excel)
absence_list
df <- bind_rows(absence_list, .id = "year")
df
path_toukou <- "data/raw/生徒数"
source("~/R_prj/task_1/code/save_absence_original.R", echo = TRUE)
source("~/R_prj/task_1/code/save_absence_original.R", echo = TRUE)
df
df
source("~/R_prj/task_1/code/save_absence_original.R", echo = TRUE)
df
source("~/R_prj/task_1/code/save_absence_original.R", echo = TRUE)
source("~/R_prj/task_1/code/save_absence_original.R", echo = TRUE)
df_present <- read_excel(file_present)
df_present
source("~/R_prj/task_1/code/save_absence_original.R", echo = TRUE)
source("~/R_prj/task_1/code/save_absence_original.R", echo = TRUE)
source("~/R_prj/task_1/code/save_absence_original.R", echo = TRUE)
df_present
source("~/R_prj/task_1/code/save_absence_original.R", echo = TRUE)
source("~/R_prj/task_1/code/save_absence_original.R", echo = TRUE)
source("~/R_prj/task_1/code/save_absence_original.R", echo = TRUE)
source("~/R_prj/task_1/code/save_absence_original.R", echo = TRUE)
source("~/R_prj/task_1/code/save_absence_original.R", echo = TRUE)
remove(path_futoukou)
remove(path_toukou)
